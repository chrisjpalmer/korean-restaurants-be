kind: workload
name: korean-restaurants-be
description: korean-restaurants-be
spec:
  type: serverless
  containers:
    - name: korean-restaurants-be
      cpu: 50m
      env:
        - name: RDS_CONN_STRING
          value: '{{ .Env.RDS_CONN_STRING }}'
      image: '{{ .Env.IMAGE_TAG }}'
      inheritEnv: false
      memory: 128Mi
      ports:
        - number: 3001
          protocol: http
  defaultOptions:
    autoscaling:
      maxConcurrency: 1000
      maxScale: 3
      metric: concurrency
      minScale: 1
      scaleToZeroDelay: 300
      target: 100
    capacityAI: true
    debug: false
    suspend: false
    timeoutSeconds: 5
  firewallConfig:
    external:
      inboundAllowCIDR:
        - 0.0.0.0/0
      outboundAllowCIDR: []
      outboundAllowHostname: []
      outboundAllowPort: []
    internal:
      inboundAllowType: none
      inboundAllowWorkload: []
  identityLink: /org/chris-palmer-545b26/gvc/default-gvc/identity/postgis2
  localOptions: []
  supportDynamicTags: false
